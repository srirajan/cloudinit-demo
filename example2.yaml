#cloud-config

runcmd:
  - mkdir -p /home/demo/.chef

# Write base 64 encoded files
write_files:
  - encoding: b64
    content: bG9nX2xldmVsICAgICAgICAgICAgICAgIDppbmZvCmxvZ19sb2NhdGlvbiAgICAgICAgICAgICBTVERPVVQKCnVzZXIgPSBFTlZbJ0NIRUZfVVNFUiddCm5vZGVfbmFtZSAgICAgICAgICAgICAgICB1c2VyCgpjaGVmX3NlcnZlcl91cmwgICAgICAgICAgIiN7RU5WWydDSEVGX1NFUlZFUl9VUkwnXX0iIHx8ICdodHRwczovL2xvY2FsaG9zdC8nCgpjaGVmX3JlcG9fZGlyICAgICAgICAgICAgRU5WWydDSEVGX1JFUE9fRElSJ10KY2hlZl9jcmVkc19kaXIgICAgICAgICAgIEVOVlsnQ0hFRl9DUkVEU19ESVInXQoKY2xpZW50X2tleSAgICAgICAgICAgICAgICIje2NoZWZfY3JlZHNfZGlyfS8je3VzZXJ9LnBlbSIKdmFsaWRhdGlvbl9jbGllbnRfbmFtZSAgICIje0VOVlsnQ0hFRl9WQUxJREFUT1JfVVNFUiddfSIKdmFsaWRhdGlvbl9rZXkgICAgICAgICAgICIje2NoZWZfY3JlZHNfZGlyfS8je0VOVlsnQ0hFRl9WQUxJREFUT1JfVVNFUiddfS5wZW0iCgpzeW50YXhfY2hlY2tfY2FjaGVfcGF0aCAgIiN7RU5WWydDSEVGX1NZTlRBWF9DSEVDS19DQUNIRSddfSIgCmNvb2tib29rX3BhdGggICAgICAgICAgICBbIiN7Y2hlZl9yZXBvX2Rpcn0vY29va2Jvb2tzIiwgIiN7Y2hlZl9yZXBvX2Rpcn0vc2l0ZS1jb29rYm9va3MiXQoKcm9sZV9wYXRoICAgICAgICAgICAgICAgIFsiI3tjaGVmX3JlcG9fZGlyfS9yb2xlcyJdCmVuY3J5cHRlZF9kYXRhX2JhZ19zZWNyZXQgIiN7RU5WWydDSEVGX0VOQ19EQVRBX0JBR19TRUNSRVQnXX0iCgprbmlmZVs6cmFja3NwYWNlX2FwaV91c2VybmFtZV0gICA9IEVOVlsnT1NfVVNFUk5BTUUnXQprbmlmZVs6cmFja3NwYWNlX2FwaV9rZXldICAgICAgICA9IEVOVlsnT1NfUEFTU1dPUkQnXQprbmlmZVs6cmFja3NwYWNlX2NvbXB1dGVfdXJsXSAgICA9IEVOVlsnT1NfQVVUSF9VUkwnXQprbmlmZVs6cmFja3NwYWNlX2VuZHBvaW50XSAgICAgICA9IEVOVlsnT1NfQVBJX0FVVEhfVVJMJ10gCmtuaWZlWzpyYWNrc3BhY2VfYXV0aF91cmxdICAgICAgID0gRU5WWydPU19BVVRIX1VSTCddIAprbmlmZVs6cmFja3NwYWNlX3ZlcnNpb25dICAgICAgICA9IEVOVlsnT1NfVkVSU0lPTiddCmtuaWZlWzpyYWNrc3BhY2VfcmVnaW9uXSAgICAgICAgID0gRU5WWydPU19SRUdJT05fTkFNRSddCgo=
    owner: root:root
    path: /home/demo/.chef/knife.rb
    permissions: '0644'
